# üîÑ ADR: –ü–µ—Ä–µ–¥–∞—á–∞ —Å—Ç–∞–≤–æ–∫ –≤ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä

### **–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏:** 
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ —Å—Ç–∞–≤–æ–∫ –ø–æ –¥–µ–ø–æ–∑–∏—Ç–∞–º –∏–∑ –ê–ë–° –≤ —Å–∏—Å—Ç–µ–º—É –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞

### **–ê–≤—Ç–æ—Ä:**
–ö–æ–º–∞–Ω–¥–∞ —Ü–∏—Ñ—Ä–æ–≤–æ–π —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –±–∞–Ω–∫–∞ "–°—Ç–∞–Ω–¥–∞—Ä—Ç"

### **–î–∞—Ç–∞:**
15 –∞–≤–≥—É—Å—Ç–∞ 2025

### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**

–û–ø–∏—à–∏—Ç–µ –∑–¥–µ—Å—å –≤–µ—Ä—Ö–Ω–µ—É—Ä–æ–≤–Ω–µ–≤—ã–µ Use Cases. –ò—Ö –Ω—É–∂–Ω–æ –æ—Ñ–æ—Ä–º–∏—Ç—å –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã —Å –ø–æ—à–∞–≥–æ–≤—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º:

|**‚Ññ**|**–î–µ–π—Å—Ç–≤—É—é—â–∏–µ –ª–∏—Ü–∞ –∏–ª–∏ —Å–∏—Å—Ç–µ–º—ã**|**Use Case**|**–û–ø–∏—Å–∞–Ω–∏–µ**|
| :-: | :- | :- | :- |
| UC1 | –ê–ë–°, API-—à–ª—é–∑ | –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞–≤–æ–∫ –≤ –ê–ë–° | –°–æ—Ç—Ä—É–¥–Ω–∏–∫ –±—ç–∫-–æ—Ñ–∏—Å–∞ –∏–∑–º–µ–Ω—è–µ—Ç —Å—Ç–∞–≤–∫–∏ –ø–æ –¥–µ–ø–æ–∑–∏—Ç–∞–º –≤ –ê–ë–° |
| UC2 | –ê–ë–°, API-—à–ª—é–∑ | –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π | API-—à–ª—é–∑ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞–≤–æ–∫ –≤ –ê–ë–° —á–µ—Ä–µ–∑ polling |
| UC3 | API-—à–ª—é–∑, Rates Service | –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –æ —Å—Ç–∞–≤–∫–∞—Ö | API-—à–ª—é–∑ –ø–µ—Ä–µ–¥–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç–∞–≤–∫–∏ –≤ Rates Service |
| UC4 | Rates Service, Cache | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–≤–æ–∫ | Rates Service –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫—ç—à —Å—Ç–∞–≤–æ–∫ –≤ Redis |
| UC5 | Rates Service, –°–∏—Å—Ç–µ–º–∞ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞ | –ü–µ—Ä–µ–¥–∞—á–∞ —Å—Ç–∞–≤–æ–∫ –≤ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä | Rates Service –ø–µ—Ä–µ–¥–∞–µ—Ç —Å—Ç–∞–≤–∫–∏ –≤ —Å–∏—Å—Ç–µ–º—É –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞ —á–µ—Ä–µ–∑ REST API |
| UC6 | –°–∏—Å—Ç–µ–º–∞ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞, Database | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞–≤–æ–∫ | –°–∏—Å—Ç–µ–º–∞ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Å—Ç–∞–≤–∫–∏ –≤ PostgreSQL |
| UC7 | –°–∏—Å—Ç–µ–º–∞ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞, SFTP Client | –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–∞ | –°–∏—Å—Ç–µ–º–∞ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞ –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ —Å—Ç–∞–≤–∫–∞—Ö –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–æ–≥–æ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞ |
| UC8 | SFTP Client, –ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏–π –∫–æ–ª-—Ü–µ–Ω—Ç—Ä | –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä—É | SFTP Client –ø–µ—Ä–µ–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ —Å—Ç–∞–≤–∫–∞—Ö –≤ –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏–π –∫–æ–ª-—Ü–µ–Ω—Ç—Ä —á–µ—Ä–µ–∑ SFTP |
| UC9 | –û–ø–µ—Ä–∞—Ç–æ—Ä –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞, –°–∏—Å—Ç–µ–º–∞ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞ | –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫ | –û–ø–µ—Ä–∞—Ç–æ—Ä –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Å—Ç–∞–≤–∫–∏ –≤ —Å–∏—Å—Ç–µ–º–µ |
| UC10 | –û–ø–µ—Ä–∞—Ç–æ—Ä –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞, –ö–ª–∏–µ–Ω—Ç | –ö–æ–Ω—Å—É–ª—å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ | –û–ø–µ—Ä–∞—Ç–æ—Ä –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º —Å—Ç–∞–≤–∫–∞–º |

### **–ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**

–û–ø–∏—à–∏—Ç–µ –∑–¥–µ—Å—å –Ω–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ –∑–Ω–∞—á–∏–º—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è.

|**‚Ññ**|**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ**|
| :-: | :- |
| NFR1 | –í—Ä–µ–º—è –ø–µ—Ä–µ–¥–∞—á–∏ —Å—Ç–∞–≤–æ–∫ –æ—Ç –ê–ë–° –¥–æ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞ –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–µ–≤—ã—à–∞—Ç—å 5 –º–∏–Ω—É—Ç |
| NFR2 | –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö 99.9% |
| NFR3 | –ü—Ä–∏ —Å–±–æ–µ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∏ –ø–µ—Ä–µ–¥–∞–Ω—ã –ø–æ–≤—Ç–æ—Ä–Ω–æ |
| NFR4 | –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥–∞—á–∏ —Å—Ç–∞–≤–æ–∫ |
| NFR5 | –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º (HTTPS/SFTP) |
| NFR6 | –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–≤–æ–∫ |
| NFR7 | API-—à–ª—é–∑ –Ω–µ –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –ê–ë–° –±–æ–ª–µ–µ 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É |
| NFR8 | –ö—ç—à —Å—Ç–∞–≤–æ–∫ –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –Ω–µ —Ä–µ–∂–µ —á–µ–º –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç |
| NFR9 | –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–∏–º –≤–µ—Ä—Å–∏—è–º —Å—Ç–∞–≤–æ–∫ |
| NFR10 | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å—Ç–∞–≤–æ–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ |

### **–†–µ—à–µ–Ω–∏–µ**

–ü—Ä–∏–≤–µ–¥–∏—Ç–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ –º–æ–¥–µ–ª–∏ C4. –û–ø–∏—à–∏—Ç–µ —Ç–∞–º –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ä–µ—à–µ–Ω–∏—è. 

–¢–∞–∫–∂–µ –æ–ø–∏—à–∏—Ç–µ, –∫–∞–∫–æ–π –ª–æ–≥–∏–∫–æ–π –≤—ã —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–≤–∞–ª–∏—Å—å –≤ —Ö–æ–¥–µ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π –∏ –≤—ã–±–æ—Ä–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π. –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—á–µ—Å—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏ –Ω–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è.

## üîÑ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### **–ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π:**

1. **–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞ –ê–ë–°** - –æ—Å–Ω–æ–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ
2. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –±–∏–∑–Ω–µ—Å–∞
3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞—Å—Ç–∏ —Å —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç–∞–≤–æ–∫
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –∑–∞—â–∏—Ç–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –ø–æ–ª–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–µ—Ä–µ–¥–∞—á–∏

### **–ö–ª—é—á–µ–≤—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:**

#### **1. Polling –≤–º–µ—Å—Ç–æ Push –¥–ª—è –ê–ë–°**
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –ò–∑–±–µ–∂–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:** API-—à–ª—é–∑ –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ê–ë–° –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ê–ë–°, –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–≥—Ä—É–∑–∫–∏

#### **2. –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –£—Å–∫–æ—Ä–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å—Ç–∞–≤–∫–∞–º –∏ —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:** Redis –¥–ª—è Rates Service + PostgreSQL –¥–ª—è –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø, –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å

#### **3. Event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –ì–∏–±–∫–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:** Kafka –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞–≤–æ–∫
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π

#### **4. SFTP –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:** SFTP –∫–ª–∏–µ–Ω—Ç –≤ —Å–∏—Å—Ç–µ–º–µ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### **–î–∏–∞–≥—Ä–∞–º–º—ã C4:**

#### **–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (Context Diagram):**
```
[–ê–ë–°] --> [API-—à–ª—é–∑]: "Polling —Å—Ç–∞–≤–æ–∫ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω"
[API-—à–ª—é–∑] --> [Rates Service]: "REST API"
[Rates Service] --> [Cache]: "Redis"
[Rates Service] --> [–°–∏—Å—Ç–µ–º–∞ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞]: "REST API"
[–°–∏—Å—Ç–µ–º–∞ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞] --> [Database]: "PostgreSQL"
[–°–∏—Å—Ç–µ–º–∞ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞] --> [–ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏–π –∫–æ–ª-—Ü–µ–Ω—Ç—Ä]: "SFTP"
[–û–ø–µ—Ä–∞—Ç–æ—Ä –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞] --> [–°–∏—Å—Ç–µ–º–∞ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞]: "–ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞–≤–æ–∫"
```

#### **–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (Container Diagram):**
```
API-—à–ª—é–∑:
‚îú‚îÄ‚îÄ Polling Service (.NET Core)
‚îú‚îÄ‚îÄ Rate Limiter (.NET Core)
‚îî‚îÄ‚îÄ Data Transformer (.NET Core)

Rates Service:
‚îú‚îÄ‚îÄ API Gateway (.NET Core)
‚îú‚îÄ‚îÄ Rates Processor (.NET Core)
‚îú‚îÄ‚îÄ Cache Manager (.NET Core)
‚îî‚îÄ‚îÄ Event Producer (.NET Core)

–°–∏—Å—Ç–µ–º–∞ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞:
‚îú‚îÄ‚îÄ Web UI (React.js)
‚îú‚îÄ‚îÄ Backend API (Java Spring Boot)
‚îú‚îÄ‚îÄ Rates Receiver (Java Spring Boot)
‚îú‚îÄ‚îÄ Database (PostgreSQL)
‚îî‚îÄ‚îÄ SFTP Client (Java)

–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
‚îú‚îÄ‚îÄ Cache (Redis)
‚îú‚îÄ‚îÄ Message Queue (Kafka)
‚îî‚îÄ‚îÄ Monitoring (Prometheus + Grafana)
```

### **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:**

#### **Backend:**
- **API-—à–ª—é–∑:** .NET Core Web API —Å polling –º–µ—Ö–∞–Ω–∏–∑–º–æ–º
- **Rates Service:** .NET Core –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å
- **–°–∏—Å—Ç–µ–º–∞ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞:** Java Spring Boot (—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è)
- **–ê–ë–°:** Delphi + Oracle + PL/SQL (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è)

#### **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- **–ö—ç—à:** Redis –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å—Ç–∞–≤–∫–∞–º
- **–û—á–µ—Ä–µ–¥–∏:** Kafka –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:** Oracle (–ê–ë–°), PostgreSQL (–∫–æ–ª-—Ü–µ–Ω—Ç—Ä)
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** Prometheus + Grafana

#### **–ü—Ä–æ—Ç–æ–∫–æ–ª—ã:**
- **REST API:** –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **SFTP:** –ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **SQL:** –î–æ—Å—Ç—É–ø –∫ –±–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö

### **–ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö:**

#### **1. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞–≤–æ–∫:**
```
–ê–ë–° ‚Üí API-—à–ª—é–∑ (polling) ‚Üí Rates Service ‚Üí Cache (Redis)
```

#### **2. –ü–µ—Ä–µ–¥–∞—á–∞ –≤ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä:**
```
Rates Service ‚Üí –°–∏—Å—Ç–µ–º–∞ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞ (REST) ‚Üí Database (PostgreSQL)
```

#### **3. –ü–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä—Ç–Ω–µ—Ä—É:**
```
–°–∏—Å—Ç–µ–º–∞ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞ ‚Üí SFTP Client ‚Üí –ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏–π –∫–æ–ª-—Ü–µ–Ω—Ç—Ä (SFTP)
```

#### **4. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤:**
```
Database ‚Üí Web UI ‚Üí –û–ø–µ—Ä–∞—Ç–æ—Ä –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞
```

### **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã**

–û–ø–∏—à–∏—Ç–µ –∑–¥–µ—Å—å –Ω–∞–∏–±–æ–ª–µ–µ –≤–∞–∂–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è.

#### **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 1: –ü—Ä—è–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ê–ë–° —Å –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–æ–º**
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–ë–° –Ω–∞–ø—Ä—è–º—É—é –ø–µ—Ä–µ–¥–∞–µ—Ç —Å—Ç–∞–≤–∫–∏ –≤ —Å–∏—Å—Ç–µ–º—É –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –±—ã—Å—Ç—Ä–∞—è –ø–µ—Ä–µ–¥–∞—á–∞
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:** –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –ê–ë–°, —Å–ª–æ–∂–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –æ–¥–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

#### **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 2: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –û–±—â–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ê–ë–° –∏ –∫–æ–ª-—Ü–µ–Ω—Ç—Ä–∞
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è, –ø—Ä–æ—Å—Ç–æ—Ç–∞
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:** –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫, —Å–ª–æ–∂–Ω–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º, –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é

#### **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 3: Webhook —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–ë–° –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç webhook —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞–≤–æ–∫
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞, push-–º–æ–¥–µ–ª—å
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:** –¢—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ê–ë–°, —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–±–æ–µ–≤, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Å–µ—Ç–∏

#### **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 4: –§–∞–π–ª–æ–≤—ã–π –æ–±–º–µ–Ω**
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ–¥–∞—á–∞ —Å—Ç–∞–≤–æ–∫ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª—ã (CSV, XML)
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:** –ó–∞–¥–µ—Ä–∂–∫–∏ –≤ –ø–µ—Ä–µ–¥–∞—á–µ, —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫, –ø—Ä–æ–±–ª–µ–º—ã —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º

### **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, —Ä–∏—Å–∫–∏**

–ü–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—à–∏—Ç–µ –∑–¥–µ—Å—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Ä–∏—Å–∫–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è.

#### **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
1. **–ó–∞–¥–µ—Ä–∂–∫–∞ –≤ –ø–µ—Ä–µ–¥–∞—á–µ** - polling –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç —Å–æ–∑–¥–∞–µ—Ç –∑–∞–¥–µ—Ä–∂–∫—É –¥–æ 5 –º–∏–Ω—É—Ç
2. **–°–ª–æ–∂–Ω–æ—Å—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** - –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å
3. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - —Å—Ç–∞–≤–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
4. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Å–µ—Ç–∏** - –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Å–µ—Ç–µ–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

#### **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
1. **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** - –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
2. **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** - –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–æ 5 –º–∏–Ω—É—Ç –≤ –ø–µ—Ä–µ–¥–∞—á–µ —Å—Ç–∞–≤–æ–∫
3. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –Ω–∞–≥—Ä—É–∑–∫–µ** - –Ω–µ –±–æ–ª–µ–µ 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É –∫ –ê–ë–°
4. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –∫—ç—à—É** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ —Ä–µ–∂–µ —á–µ–º –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç

#### **–†–∏—Å–∫–∏:**
1. **–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö** - –º–∏—Ç–∏–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ retry –º–µ—Ö–∞–Ω–∏–∑–º—ã
2. **–†–∏—Å–∫ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏** - –º–∏—Ç–∏–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
3. **–†–∏—Å–∫ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –ê–ë–°** - –º–∏—Ç–∏–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ rate limiting –∏ polling –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
4. **–†–∏—Å–∫ –ø—Ä–æ–±–ª–µ–º —Å —Å–µ—Ç—å—é** - –º–∏—Ç–∏–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ retry –º–µ—Ö–∞–Ω–∏–∑–º—ã –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
5. **–†–∏—Å–∫ –ø—Ä–æ–±–ª–µ–º —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é** - –º–∏—Ç–∏–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞—É–¥–∏—Ç

#### **–ú–µ—Ä—ã –ø–æ —Å–Ω–∏–∂–µ–Ω–∏—é —Ä–∏—Å–∫–æ–≤:**
1. **Retry –º–µ—Ö–∞–Ω–∏–∑–º—ã** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ —Å–±–æ—è—Ö
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥** - –ø—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ–µ –≤—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
3. **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞ –∫ –ø—Ä–µ–¥—ã–¥—É—â–∏–º –≤–µ—Ä—Å–∏—è–º
4. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö
5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π** - —Ä–µ–≥—É–ª—è—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

#### **–ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:**
1. **–í—Ä–µ–º—è –ø–µ—Ä–µ–¥–∞—á–∏ —Å—Ç–∞–≤–æ–∫** - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å < 5 –º–∏–Ω—É—Ç
2. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏** - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å > 99.9%
3. **–ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ê–ë–°** - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å < 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
4. **–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –∫—ç—à–∞** - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å < 100 –º—Å
5. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫** - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å < 1% –æ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–ø–µ—Ä–∞—Ü–∏–π

---

**–í—ã–≤–æ–¥:** –í—ã–±—Ä–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω—É—é –ø–µ—Ä–µ–¥–∞—á—É —Å—Ç–∞–≤–æ–∫ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ–º –Ω–∞ –ê–ë–°, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.
